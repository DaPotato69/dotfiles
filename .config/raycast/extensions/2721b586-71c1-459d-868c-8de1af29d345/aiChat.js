var zi=Object.create;var gr=Object.defineProperty;var Mi=Object.getOwnPropertyDescriptor;var Ni=Object.getOwnPropertyNames;var $i=Object.getPrototypeOf,xi=Object.prototype.hasOwnProperty;var vt=(o,n)=>()=>(o&&(n=o(o=0)),n);var un=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),Wo=(o,n)=>{for(var a in n)gr(o,a,{get:n[a],enumerable:!0})},qo=(o,n,a,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of Ni(n))!xi.call(o,l)&&l!==a&&gr(o,l,{get:()=>n[l],enumerable:!(s=Mi(n,l))||s.enumerable});return o};var qe=(o,n,a)=>(a=o!=null?zi($i(o)):{},qo(n||!o||!o.__esModule?gr(a,"default",{value:o,enumerable:!0}):a,o)),Ui=o=>qo(gr({},"__esModule",{value:!0}),o);var Io=un((Sr,Lo)=>{(function(o,n){typeof Sr=="object"&&typeof Lo<"u"?n(Sr):typeof define=="function"&&define.amd?define(["exports"],n):(o=typeof globalThis<"u"?globalThis:o||self,n(o.WebStreamsPolyfill={}))})(Sr,function(o){"use strict";let n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function a(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let l=s();function f(e){return typeof e=="object"&&e!==null||typeof e=="function"}let d=a,R=Promise,y=Promise.prototype.then,b=Promise.resolve.bind(R),v=Promise.reject.bind(R);function D(e){return new R(e)}function S(e){return b(e)}function p(e){return v(e)}function m(e,t,r){return y.call(e,t,r)}function q(e,t,r){m(m(e,t,r),void 0,d)}function E(e,t){q(e,t)}function k(e,t){q(e,void 0,t)}function F(e,t,r){return m(e,t,r)}function U(e){m(e,void 0,d)}let _=(()=>{let e=l&&l.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return r=>m(t,r)})();function x(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function z(e,t,r){try{return S(x(e,t,r))}catch(i){return p(i)}}let me=16384;class Q{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let r=this._back,i=r;r._elements.length===me-1&&(i={_elements:[],_next:void 0}),r._elements.push(t),i!==r&&(this._back=i,r._next=i),++this._size}shift(){let t=this._front,r=t,i=this._cursor,u=i+1,c=t._elements,h=c[i];return u===me&&(r=t._next,u=0),--this._size,this._cursor=u,t!==r&&(this._front=r),c[i]=void 0,h}forEach(t){let r=this._cursor,i=this._front,u=i._elements;for(;(r!==u.length||i._next!==void 0)&&!(r===u.length&&(i=i._next,u=i._elements,r=0,u.length===0));)t(u[r]),++r}peek(){let t=this._front,r=this._cursor;return t._elements[r]}}function It(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?ct(e):t._state==="closed"?Wr(e):zt(e,t._storedError)}function ft(e,t){let r=e._ownerReadableStream;return ue(r,t)}function ne(e){e._ownerReadableStream._state==="readable"?Qe(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):qr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ge(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function ct(e){e._closedPromise=D((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function zt(e,t){ct(e),Qe(e,t)}function Wr(e){ct(e),Mt(e)}function Qe(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function qr(e,t){zt(e,t)}function Mt(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let C=n("[[AbortSteps]]"),P=n("[[ErrorSteps]]"),A=n("[[CancelSteps]]"),H=n("[[PullSteps]]"),Y=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Ae=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function dt(e){return typeof e=="object"||typeof e=="function"}function Se(e,t){if(e!==void 0&&!dt(e))throw new TypeError(`${t} is not an object.`)}function se(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function ya(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Cn(e,t){if(!ya(e))throw new TypeError(`${t} is not an object.`)}function _e(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function Fr(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function Lr(e){return Number(e)}function Tn(e){return e===0?0:e}function ga(e){return Tn(Ae(e))}function En(e,t){let i=Number.MAX_SAFE_INTEGER,u=Number(e);if(u=Tn(u),!Y(u))throw new TypeError(`${t} is not a finite number`);if(u=ga(u),u<0||u>i)throw new TypeError(`${t} is outside the accepted range of 0 to ${i}, inclusive`);return!Y(u)||u===0?0:u}function Ir(e,t){if(!ke(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ge(e){return new ht(e)}function An(e,t){e._reader._readRequests.push(t)}function zr(e,t,r){let u=e._reader._readRequests.shift();r?u._closeSteps():u._chunkSteps(t)}function Nt(e){return e._reader._readRequests.length}function Pn(e){let t=e._reader;return!(t===void 0||!Pe(t))}class ht{constructor(t){if(_e(t,1,"ReadableStreamDefaultReader"),Ir(t,"First parameter"),Oe(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");It(this,t),this._readRequests=new Q}get closed(){return Pe(this)?this._closedPromise:p($t("closed"))}cancel(t=void 0){return Pe(this)?this._ownerReadableStream===void 0?p(ge("cancel")):ft(this,t):p($t("cancel"))}read(){if(!Pe(this))return p($t("read"));if(this._ownerReadableStream===void 0)return p(ge("read from"));let t,r,i=D((c,h)=>{t=c,r=h});return mt(this,{_chunkSteps:c=>t({value:c,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:c=>r(c)}),i}releaseLock(){if(!Pe(this))throw $t("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ne(this)}}}Object.defineProperties(ht.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(ht.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Pe(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof ht}function mt(e,t){let r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[H](t)}function $t(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let vn=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Bn{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?F(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let r=()=>this._returnSteps(t);return this._ongoingPromise?F(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return p(ge("iterate"));let r,i,u=D((h,g)=>{r=h,i=g});return mt(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,_(()=>r({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(t),r({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(t),i(h)}}),u}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let r=this._reader;if(r._ownerReadableStream===void 0)return p(ge("finish iterating"));if(!this._preventCancel){let i=ft(r,t);return ne(r),F(i,()=>({value:t,done:!0}))}return ne(r),S({value:t,done:!0})}}let Dn={next(){return kn(this)?this._asyncIteratorImpl.next():p(On("next"))},return(e){return kn(this)?this._asyncIteratorImpl.return(e):p(On("return"))}};vn!==void 0&&Object.setPrototypeOf(Dn,vn);function Sa(e,t){let r=Ge(e),i=new Bn(r,t),u=Object.create(Dn);return u._asyncIteratorImpl=i,u}function kn(e){if(!f(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Bn}catch{return!1}}function On(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Wn=Number.isNaN||function(e){return e!==e};function pt(e){return e.slice()}function qn(e,t,r,i,u){new Uint8Array(e).set(new Uint8Array(r,i,u),t)}function bs(e){return e}function xt(e){return!1}function Fn(e,t,r){if(e.slice)return e.slice(t,r);let i=r-t,u=new ArrayBuffer(i);return qn(u,0,e,t,i),u}function _a(e){return!(typeof e!="number"||Wn(e)||e<0)}function Ln(e){let t=Fn(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Mr(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Nr(e,t,r){if(!_a(r)||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function wa(e){return e._queue.peek().value}function ve(e){e._queue=new Q,e._queueTotalSize=0}class bt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!$r(this))throw Hr("view");return this._view}respond(t){if(!$r(this))throw Hr("respond");if(_e(t,1,"respond"),t=En(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");xt(this._view.buffer),Yt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!$r(this))throw Hr("respondWithNewView");if(_e(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");xt(t.buffer),Qt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(bt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Je{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Le(this))throw gt("byobRequest");return jr(this)}get desiredSize(){if(!Le(this))throw gt("desiredSize");return jn(this)}close(){if(!Le(this))throw gt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);yt(this)}enqueue(t){if(!Le(this))throw gt("enqueue");if(_e(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);Vt(this,t)}error(t=void 0){if(!Le(this))throw gt("error");le(this,t)}[A](t){In(this),ve(this);let r=this._cancelAlgorithm(t);return Ht(this),r}[H](t){let r=this._controlledReadableByteStream;if(this._queueTotalSize>0){let u=this._queue.shift();this._queueTotalSize-=u.byteLength,$n(this);let c=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);t._chunkSteps(c);return}let i=this._autoAllocateChunkSize;if(i!==void 0){let u;try{u=new ArrayBuffer(i)}catch(h){t._errorSteps(h);return}let c={buffer:u,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(c)}An(r,t),Ie(this)}}Object.defineProperties(Je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Je.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Le(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Je}function $r(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof bt}function Ie(e){if(!Ea(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let r=e._pullAlgorithm();q(r,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ie(e))},i=>{le(e,i)})}function In(e){Ur(e),e._pendingPullIntos=new Q}function xr(e,t){let r=!1;e._state==="closed"&&(r=!0);let i=zn(t);t.readerType==="default"?zr(e,i,r):va(e,i,r)}function zn(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Ut(e,t,r,i){e._queue.push({buffer:t,byteOffset:r,byteLength:i}),e._queueTotalSize+=i}function Mn(e,t){let r=t.elementSize,i=t.bytesFilled-t.bytesFilled%r,u=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),c=t.bytesFilled+u,h=c-c%r,g=u,B=!1;h>i&&(g=h-t.bytesFilled,B=!0);let W=e._queue;for(;g>0;){let L=W.peek(),I=Math.min(g,L.byteLength),j=t.byteOffset+t.bytesFilled;qn(t.buffer,j,L.buffer,L.byteOffset,I),L.byteLength===I?W.shift():(L.byteOffset+=I,L.byteLength-=I),e._queueTotalSize-=I,Nn(e,I,t),g-=I}return B}function Nn(e,t,r){r.bytesFilled+=t}function $n(e){e._queueTotalSize===0&&e._closeRequested?(Ht(e),At(e._controlledReadableByteStream)):Ie(e)}function Ur(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function xn(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Mn(e,t)&&(jt(e),xr(e._controlledReadableByteStream,t))}}function Ra(e,t,r){let i=e._controlledReadableByteStream,u=1;t.constructor!==DataView&&(u=t.constructor.BYTES_PER_ELEMENT);let c=t.constructor,h=t.buffer,g={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:u,viewConstructor:c,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(g),Yn(i,r);return}if(i._state==="closed"){let B=new c(g.buffer,g.byteOffset,0);r._closeSteps(B);return}if(e._queueTotalSize>0){if(Mn(e,g)){let B=zn(g);$n(e),r._chunkSteps(B);return}if(e._closeRequested){let B=new TypeError("Insufficient bytes to fill elements in the given buffer");le(e,B),r._errorSteps(B);return}}e._pendingPullIntos.push(g),Yn(i,r),Ie(e)}function Ca(e,t){let r=e._controlledReadableByteStream;if(Vr(r))for(;Qn(r)>0;){let i=jt(e);xr(r,i)}}function Ta(e,t,r){if(Nn(e,t,r),r.bytesFilled<r.elementSize)return;jt(e);let i=r.bytesFilled%r.elementSize;if(i>0){let u=r.byteOffset+r.bytesFilled,c=Fn(r.buffer,u-i,u);Ut(e,c,0,c.byteLength)}r.bytesFilled-=i,xr(e._controlledReadableByteStream,r),xn(e)}function Un(e,t){let r=e._pendingPullIntos.peek();Ur(e),e._controlledReadableByteStream._state==="closed"?Ca(e):Ta(e,t,r),Ie(e)}function jt(e){return e._pendingPullIntos.shift()}function Ea(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Pn(t)&&Nt(t)>0||Vr(t)&&Qn(t)>0||jn(e)>0)}function Ht(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function yt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw le(e,i),i}Ht(e),At(t)}}function Vt(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable")return;let i=t.buffer,u=t.byteOffset,c=t.byteLength,h=i;if(e._pendingPullIntos.length>0){let g=e._pendingPullIntos.peek();xt(g.buffer),g.buffer=g.buffer}if(Ur(e),Pn(r))if(Nt(r)===0)Ut(e,h,u,c);else{e._pendingPullIntos.length>0&&jt(e);let g=new Uint8Array(h,u,c);zr(r,g,!1)}else Vr(r)?(Ut(e,h,u,c),xn(e)):Ut(e,h,u,c);Ie(e)}function le(e,t){let r=e._controlledReadableByteStream;r._state==="readable"&&(In(e),ve(e),Ht(e),So(r,t))}function jr(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(bt.prototype);Pa(i,e,r),e._byobRequest=i}return e._byobRequest}function jn(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Yt(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Un(e,t)}function Qt(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let u=t.byteLength;r.buffer=t.buffer,Un(e,u)}function Hn(e,t,r,i,u,c,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,ve(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=c,t._pullAlgorithm=i,t._cancelAlgorithm=u,t._autoAllocateChunkSize=h,t._pendingPullIntos=new Q,e._readableStreamController=t;let g=r();q(S(g),()=>{t._started=!0,Ie(t)},B=>{le(t,B)})}function Aa(e,t,r){let i=Object.create(Je.prototype),u=()=>{},c=()=>S(void 0),h=()=>S(void 0);t.start!==void 0&&(u=()=>t.start(i)),t.pull!==void 0&&(c=()=>t.pull(i)),t.cancel!==void 0&&(h=B=>t.cancel(B));let g=t.autoAllocateChunkSize;if(g===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Hn(e,i,u,c,h,r,g)}function Pa(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function Hr(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function gt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Vn(e){return new St(e)}function Yn(e,t){e._reader._readIntoRequests.push(t)}function va(e,t,r){let u=e._reader._readIntoRequests.shift();r?u._closeSteps(t):u._chunkSteps(t)}function Qn(e){return e._reader._readIntoRequests.length}function Vr(e){let t=e._reader;return!(t===void 0||!ze(t))}class St{constructor(t){if(_e(t,1,"ReadableStreamBYOBReader"),Ir(t,"First parameter"),Oe(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Le(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");It(this,t),this._readIntoRequests=new Q}get closed(){return ze(this)?this._closedPromise:p(Gt("closed"))}cancel(t=void 0){return ze(this)?this._ownerReadableStream===void 0?p(ge("cancel")):ft(this,t):p(Gt("cancel"))}read(t){if(!ze(this))return p(Gt("read"));if(!ArrayBuffer.isView(t))return p(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return p(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return p(new TypeError("view's buffer must have non-zero byteLength"));if(xt(t.buffer),this._ownerReadableStream===void 0)return p(ge("read from"));let r,i,u=D((h,g)=>{r=h,i=g});return Gn(this,t,{_chunkSteps:h=>r({value:h,done:!1}),_closeSteps:h=>r({value:h,done:!0}),_errorSteps:h=>i(h)}),u}releaseLock(){if(!ze(this))throw Gt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ne(this)}}}Object.defineProperties(St.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(St.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ze(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof St}function Gn(e,t,r){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="errored"?r._errorSteps(i._storedError):Ra(i._readableStreamController,t,r)}function Gt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function _t(e,t){let{highWaterMark:r}=e;if(r===void 0)return t;if(Wn(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Jt(e){let{size:t}=e;return t||(()=>1)}function Zt(e,t){Se(e,t);let r=e?.highWaterMark,i=e?.size;return{highWaterMark:r===void 0?void 0:Lr(r),size:i===void 0?void 0:Ba(i,`${t} has member 'size' that`)}}function Ba(e,t){return se(e,t),r=>Lr(e(r))}function Da(e,t){Se(e,t);let r=e?.abort,i=e?.close,u=e?.start,c=e?.type,h=e?.write;return{abort:r===void 0?void 0:ka(r,e,`${t} has member 'abort' that`),close:i===void 0?void 0:Oa(i,e,`${t} has member 'close' that`),start:u===void 0?void 0:Wa(u,e,`${t} has member 'start' that`),write:h===void 0?void 0:qa(h,e,`${t} has member 'write' that`),type:c}}function ka(e,t,r){return se(e,r),i=>z(e,t,[i])}function Oa(e,t,r){return se(e,r),()=>z(e,t,[])}function Wa(e,t,r){return se(e,r),i=>x(e,t,[i])}function qa(e,t,r){return se(e,r),(i,u)=>z(e,t,[i,u])}function Jn(e,t){if(!Ze(e))throw new TypeError(`${t} is not a WritableStream.`)}function Fa(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let La=typeof AbortController=="function";function Ia(){if(La)return new AbortController}class wt{constructor(t={},r={}){t===void 0?t=null:Cn(t,"First parameter");let i=Zt(r,"Second parameter"),u=Da(t,"First parameter");if(Kn(this),u.type!==void 0)throw new RangeError("Invalid type is specified");let h=Jt(i),g=_t(i,1);Za(this,u,g,h)}get locked(){if(!Ze(this))throw rr("locked");return Ke(this)}abort(t=void 0){return Ze(this)?Ke(this)?p(new TypeError("Cannot abort a stream that already has a writer")):Kt(this,t):p(rr("abort"))}close(){return Ze(this)?Ke(this)?p(new TypeError("Cannot close a stream that already has a writer")):pe(this)?p(new TypeError("Cannot close an already-closing stream")):Xn(this):p(rr("close"))}getWriter(){if(!Ze(this))throw rr("getWriter");return Zn(this)}}Object.defineProperties(wt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});function Zn(e){return new Rt(e)}function za(e,t,r,i,u=1,c=()=>1){let h=Object.create(wt.prototype);Kn(h);let g=Object.create(Xe.prototype);return ao(h,g,e,t,r,i,u,c),h}function Kn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Q,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ze(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof wt}function Ke(e){return e._writer!==void 0}function Kt(e,t){var r;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(r=e._writableStreamController._abortController)===null||r===void 0||r.abort();let i=e._state;if(i==="closed"||i==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let u=!1;i==="erroring"&&(u=!0,t=void 0);let c=D((h,g)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:g,_reason:t,_wasAlreadyErroring:u}});return e._pendingAbortRequest._promise=c,u||Qr(e,t),c}function Xn(e){let t=e._state;if(t==="closed"||t==="errored")return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let r=D((u,c)=>{let h={_resolve:u,_reject:c};e._closeRequest=h}),i=e._writer;return i!==void 0&&e._backpressure&&t==="writable"&&nn(i),Ka(e._writableStreamController),r}function Ma(e){return D((r,i)=>{let u={_resolve:r,_reject:i};e._writeRequests.push(u)})}function Yr(e,t){if(e._state==="writable"){Qr(e,t);return}Gr(e)}function Qr(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;i!==void 0&&to(i,t),!ja(e)&&r._started&&Gr(e)}function Gr(e){e._state="errored",e._writableStreamController[P]();let t=e._storedError;if(e._writeRequests.forEach(u=>{u._reject(t)}),e._writeRequests=new Q,e._pendingAbortRequest===void 0){Xt(e);return}let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),Xt(e);return}let i=e._writableStreamController[C](r._reason);q(i,()=>{r._resolve(),Xt(e)},u=>{r._reject(u),Xt(e)})}function Na(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function $a(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Yr(e,t)}function xa(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let r=e._writer;r!==void 0&&uo(r)}function Ua(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Yr(e,t)}function pe(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function ja(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ha(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Va(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Xt(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&tn(t,e._storedError)}function Jr(e,t){let r=e._writer;r!==void 0&&t!==e._backpressure&&(t?ai(r):nn(r)),e._backpressure=t}class Rt{constructor(t){if(_e(t,1,"WritableStreamDefaultWriter"),Jn(t,"First parameter"),Ke(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let r=t._state;if(r==="writable")!pe(t)&&t._backpressure?or(this):fo(this),nr(this);else if(r==="erroring")rn(this,t._storedError),nr(this);else if(r==="closed")fo(this),ni(this);else{let i=t._storedError;rn(this,i),lo(this,i)}}get closed(){return Me(this)?this._closedPromise:p(Ne("closed"))}get desiredSize(){if(!Me(this))throw Ne("desiredSize");if(this._ownerWritableStream===void 0)throw Ct("desiredSize");return Ja(this)}get ready(){return Me(this)?this._readyPromise:p(Ne("ready"))}abort(t=void 0){return Me(this)?this._ownerWritableStream===void 0?p(Ct("abort")):Ya(this,t):p(Ne("abort"))}close(){if(!Me(this))return p(Ne("close"));let t=this._ownerWritableStream;return t===void 0?p(Ct("close")):pe(t)?p(new TypeError("Cannot close an already-closing stream")):eo(this)}releaseLock(){if(!Me(this))throw Ne("releaseLock");this._ownerWritableStream!==void 0&&ro(this)}write(t=void 0){return Me(this)?this._ownerWritableStream===void 0?p(Ct("write to")):no(this,t):p(Ne("write"))}}Object.defineProperties(Rt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Me(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Rt}function Ya(e,t){let r=e._ownerWritableStream;return Kt(r,t)}function eo(e){let t=e._ownerWritableStream;return Xn(t)}function Qa(e){let t=e._ownerWritableStream,r=t._state;return pe(t)||r==="closed"?S(void 0):r==="errored"?p(t._storedError):eo(e)}function Ga(e,t){e._closedPromiseState==="pending"?tn(e,t):oi(e,t)}function to(e,t){e._readyPromiseState==="pending"?co(e,t):ii(e,t)}function Ja(e){let t=e._ownerWritableStream,r=t._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:io(t._writableStreamController)}function ro(e){let t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");to(e,r),Ga(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function no(e,t){let r=e._ownerWritableStream,i=r._writableStreamController,u=Xa(i,t);if(r!==e._ownerWritableStream)return p(Ct("write to"));let c=r._state;if(c==="errored")return p(r._storedError);if(pe(r)||c==="closed")return p(new TypeError("The stream is closing or closed and cannot be written to"));if(c==="erroring")return p(r._storedError);let h=Ma(r);return ei(i,t,u),h}let oo={};class Xe{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Zr(this))throw en("abortReason");return this._abortReason}get signal(){if(!Zr(this))throw en("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Zr(this))throw en("error");this._controlledWritableStream._state==="writable"&&so(this,t)}[C](t){let r=this._abortAlgorithm(t);return er(this),r}[P](){ve(this)}}Object.defineProperties(Xe.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Xe.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Zr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Xe}function ao(e,t,r,i,u,c,h,g){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ve(t),t._abortReason=void 0,t._abortController=Ia(),t._started=!1,t._strategySizeAlgorithm=g,t._strategyHWM=h,t._writeAlgorithm=i,t._closeAlgorithm=u,t._abortAlgorithm=c;let B=Xr(t);Jr(e,B);let W=r(),L=S(W);q(L,()=>{t._started=!0,tr(t)},I=>{t._started=!0,Yr(e,I)})}function Za(e,t,r,i){let u=Object.create(Xe.prototype),c=()=>{},h=()=>S(void 0),g=()=>S(void 0),B=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(u)),t.write!==void 0&&(h=W=>t.write(W,u)),t.close!==void 0&&(g=()=>t.close()),t.abort!==void 0&&(B=W=>t.abort(W)),ao(e,u,c,h,g,B,r,i)}function er(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ka(e){Nr(e,oo,0),tr(e)}function Xa(e,t){try{return e._strategySizeAlgorithm(t)}catch(r){return Kr(e,r),1}}function io(e){return e._strategyHWM-e._queueTotalSize}function ei(e,t,r){try{Nr(e,t,r)}catch(u){Kr(e,u);return}let i=e._controlledWritableStream;if(!pe(i)&&i._state==="writable"){let u=Xr(e);Jr(i,u)}tr(e)}function tr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){Gr(t);return}if(e._queue.length===0)return;let i=wa(e);i===oo?ti(e):ri(e,i)}function Kr(e,t){e._controlledWritableStream._state==="writable"&&so(e,t)}function ti(e){let t=e._controlledWritableStream;Ha(t),Mr(e);let r=e._closeAlgorithm();er(e),q(r,()=>{xa(t)},i=>{Ua(t,i)})}function ri(e,t){let r=e._controlledWritableStream;Va(r);let i=e._writeAlgorithm(t);q(i,()=>{Na(r);let u=r._state;if(Mr(e),!pe(r)&&u==="writable"){let c=Xr(e);Jr(r,c)}tr(e)},u=>{r._state==="writable"&&er(e),$a(r,u)})}function Xr(e){return io(e)<=0}function so(e,t){let r=e._controlledWritableStream;er(e),Qr(r,t)}function rr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function en(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ne(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ct(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function nr(e){e._closedPromise=D((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function lo(e,t){nr(e),tn(e,t)}function ni(e){nr(e),uo(e)}function tn(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function oi(e,t){lo(e,t)}function uo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function or(e){e._readyPromise=D((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function rn(e,t){or(e),co(e,t)}function fo(e){or(e),nn(e)}function co(e,t){e._readyPromise_reject!==void 0&&(U(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function ai(e){or(e)}function ii(e,t){rn(e,t)}function nn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let ho=typeof DOMException<"u"?DOMException:void 0;function si(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function li(){let e=function(r,i){this.message=r||"",this.name=i||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let ui=si(ho)?ho:li();function mo(e,t,r,i,u,c){let h=Ge(e),g=Zn(t);e._disturbed=!0;let B=!1,W=S(void 0);return D((L,I)=>{let j;if(c!==void 0){if(j=()=>{let T=new ui("Aborted","AbortError"),O=[];i||O.push(()=>t._state==="writable"?Kt(t,T):S(void 0)),u||O.push(()=>e._state==="readable"?ue(e,T):S(void 0)),J(()=>Promise.all(O.map(N=>N())),!0,T)},c.aborted){j();return}c.addEventListener("abort",j)}function fe(){return D((T,O)=>{function N(X){X?T():m(rt(),N,O)}N(!1)})}function rt(){return B?S(!0):m(g._readyPromise,()=>D((T,O)=>{mt(h,{_chunkSteps:N=>{W=m(no(g,N),void 0,a),T(!1)},_closeSteps:()=>T(!0),_errorSteps:O})}))}if(we(e,h._closedPromise,T=>{i?oe(!0,T):J(()=>Kt(t,T),!0,T)}),we(t,g._closedPromise,T=>{u?oe(!0,T):J(()=>ue(e,T),!0,T)}),G(e,h._closedPromise,()=>{r?oe():J(()=>Qa(g))}),pe(t)||t._state==="closed"){let T=new TypeError("the destination writable stream closed before all data could be piped to it");u?oe(!0,T):J(()=>ue(e,T),!0,T)}U(fe());function We(){let T=W;return m(W,()=>T!==W?We():void 0)}function we(T,O,N){T._state==="errored"?N(T._storedError):k(O,N)}function G(T,O,N){T._state==="closed"?N():E(O,N)}function J(T,O,N){if(B)return;B=!0,t._state==="writable"&&!pe(t)?E(We(),X):X();function X(){q(T(),()=>Re(O,N),nt=>Re(!0,nt))}}function oe(T,O){B||(B=!0,t._state==="writable"&&!pe(t)?E(We(),()=>Re(T,O)):Re(T,O))}function Re(T,O){ro(g),ne(h),c!==void 0&&c.removeEventListener("abort",j),T?I(O):L(void 0)}})}class et{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ar(this))throw lr("desiredSize");return on(this)}close(){if(!ar(this))throw lr("close");if(!tt(this))throw new TypeError("The stream is not in a state that permits close");Et(this)}enqueue(t=void 0){if(!ar(this))throw lr("enqueue");if(!tt(this))throw new TypeError("The stream is not in a state that permits enqueue");return sr(this,t)}error(t=void 0){if(!ar(this))throw lr("error");Be(this,t)}[A](t){ve(this);let r=this._cancelAlgorithm(t);return ir(this),r}[H](t){let r=this._controlledReadableStream;if(this._queue.length>0){let i=Mr(this);this._closeRequested&&this._queue.length===0?(ir(this),At(r)):Tt(this),t._chunkSteps(i)}else An(r,t),Tt(this)}}Object.defineProperties(et.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(et.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function ar(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof et}function Tt(e){if(!po(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let r=e._pullAlgorithm();q(r,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Tt(e))},i=>{Be(e,i)})}function po(e){let t=e._controlledReadableStream;return!tt(e)||!e._started?!1:!!(Oe(t)&&Nt(t)>0||on(e)>0)}function ir(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Et(e){if(!tt(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(ir(e),At(t))}function sr(e,t){if(!tt(e))return;let r=e._controlledReadableStream;if(Oe(r)&&Nt(r)>0)zr(r,t,!1);else{let i;try{i=e._strategySizeAlgorithm(t)}catch(u){throw Be(e,u),u}try{Nr(e,t,i)}catch(u){throw Be(e,u),u}}Tt(e)}function Be(e,t){let r=e._controlledReadableStream;r._state==="readable"&&(ve(e),ir(e),So(r,t))}function on(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function fi(e){return!po(e)}function tt(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function bo(e,t,r,i,u,c,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ve(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=c,t._pullAlgorithm=i,t._cancelAlgorithm=u,e._readableStreamController=t;let g=r();q(S(g),()=>{t._started=!0,Tt(t)},B=>{Be(t,B)})}function ci(e,t,r,i){let u=Object.create(et.prototype),c=()=>{},h=()=>S(void 0),g=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(u)),t.pull!==void 0&&(h=()=>t.pull(u)),t.cancel!==void 0&&(g=B=>t.cancel(B)),bo(e,u,c,h,g,r,i)}function lr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function di(e,t){return Le(e._readableStreamController)?mi(e):hi(e)}function hi(e,t){let r=Ge(e),i=!1,u=!1,c=!1,h=!1,g,B,W,L,I,j=D(G=>{I=G});function fe(){return i?(u=!0,S(void 0)):(i=!0,mt(r,{_chunkSteps:J=>{_(()=>{u=!1;let oe=J,Re=J;c||sr(W._readableStreamController,oe),h||sr(L._readableStreamController,Re),i=!1,u&&fe()})},_closeSteps:()=>{i=!1,c||Et(W._readableStreamController),h||Et(L._readableStreamController),(!c||!h)&&I(void 0)},_errorSteps:()=>{i=!1}}),S(void 0))}function rt(G){if(c=!0,g=G,h){let J=pt([g,B]),oe=ue(e,J);I(oe)}return j}function We(G){if(h=!0,B=G,c){let J=pt([g,B]),oe=ue(e,J);I(oe)}return j}function we(){}return W=an(we,fe,rt),L=an(we,fe,We),k(r._closedPromise,G=>{Be(W._readableStreamController,G),Be(L._readableStreamController,G),(!c||!h)&&I(void 0)}),[W,L]}function mi(e){let t=Ge(e),r=!1,i=!1,u=!1,c=!1,h=!1,g,B,W,L,I,j=D(T=>{I=T});function fe(T){k(T._closedPromise,O=>{T===t&&(le(W._readableStreamController,O),le(L._readableStreamController,O),(!c||!h)&&I(void 0))})}function rt(){ze(t)&&(ne(t),t=Ge(e),fe(t)),mt(t,{_chunkSteps:O=>{_(()=>{i=!1,u=!1;let N=O,X=O;if(!c&&!h)try{X=Ln(O)}catch(nt){le(W._readableStreamController,nt),le(L._readableStreamController,nt),I(ue(e,nt));return}c||Vt(W._readableStreamController,N),h||Vt(L._readableStreamController,X),r=!1,i?we():u&&G()})},_closeSteps:()=>{r=!1,c||yt(W._readableStreamController),h||yt(L._readableStreamController),W._readableStreamController._pendingPullIntos.length>0&&Yt(W._readableStreamController,0),L._readableStreamController._pendingPullIntos.length>0&&Yt(L._readableStreamController,0),(!c||!h)&&I(void 0)},_errorSteps:()=>{r=!1}})}function We(T,O){Pe(t)&&(ne(t),t=Vn(e),fe(t));let N=O?L:W,X=O?W:L;Gn(t,T,{_chunkSteps:ot=>{_(()=>{i=!1,u=!1;let at=O?h:c;if(O?c:h)at||Qt(N._readableStreamController,ot);else{let Oo;try{Oo=Ln(ot)}catch(ln){le(N._readableStreamController,ln),le(X._readableStreamController,ln),I(ue(e,ln));return}at||Qt(N._readableStreamController,ot),Vt(X._readableStreamController,Oo)}r=!1,i?we():u&&G()})},_closeSteps:ot=>{r=!1;let at=O?h:c,yr=O?c:h;at||yt(N._readableStreamController),yr||yt(X._readableStreamController),ot!==void 0&&(at||Qt(N._readableStreamController,ot),!yr&&X._readableStreamController._pendingPullIntos.length>0&&Yt(X._readableStreamController,0)),(!at||!yr)&&I(void 0)},_errorSteps:()=>{r=!1}})}function we(){if(r)return i=!0,S(void 0);r=!0;let T=jr(W._readableStreamController);return T===null?rt():We(T._view,!1),S(void 0)}function G(){if(r)return u=!0,S(void 0);r=!0;let T=jr(L._readableStreamController);return T===null?rt():We(T._view,!0),S(void 0)}function J(T){if(c=!0,g=T,h){let O=pt([g,B]),N=ue(e,O);I(N)}return j}function oe(T){if(h=!0,B=T,c){let O=pt([g,B]),N=ue(e,O);I(N)}return j}function Re(){}return W=go(Re,we,J),L=go(Re,G,oe),fe(t),[W,L]}function pi(e,t){Se(e,t);let r=e,i=r?.autoAllocateChunkSize,u=r?.cancel,c=r?.pull,h=r?.start,g=r?.type;return{autoAllocateChunkSize:i===void 0?void 0:En(i,`${t} has member 'autoAllocateChunkSize' that`),cancel:u===void 0?void 0:bi(u,r,`${t} has member 'cancel' that`),pull:c===void 0?void 0:yi(c,r,`${t} has member 'pull' that`),start:h===void 0?void 0:gi(h,r,`${t} has member 'start' that`),type:g===void 0?void 0:Si(g,`${t} has member 'type' that`)}}function bi(e,t,r){return se(e,r),i=>z(e,t,[i])}function yi(e,t,r){return se(e,r),i=>z(e,t,[i])}function gi(e,t,r){return se(e,r),i=>x(e,t,[i])}function Si(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function _i(e,t){Se(e,t);let r=e?.mode;return{mode:r===void 0?void 0:wi(r,`${t} has member 'mode' that`)}}function wi(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Ri(e,t){return Se(e,t),{preventCancel:!!e?.preventCancel}}function yo(e,t){Se(e,t);let r=e?.preventAbort,i=e?.preventCancel,u=e?.preventClose,c=e?.signal;return c!==void 0&&Ci(c,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!i,preventClose:!!u,signal:c}}function Ci(e,t){if(!Fa(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Ti(e,t){Se(e,t);let r=e?.readable;Fr(r,"readable","ReadableWritablePair"),Ir(r,`${t} has member 'readable' that`);let i=e?.writable;return Fr(i,"writable","ReadableWritablePair"),Jn(i,`${t} has member 'writable' that`),{readable:r,writable:i}}class De{constructor(t={},r={}){t===void 0?t=null:Cn(t,"First parameter");let i=Zt(r,"Second parameter"),u=pi(t,"First parameter");if(sn(this),u.type==="bytes"){if(i.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let c=_t(i,0);Aa(this,u,c)}else{let c=Jt(i),h=_t(i,1);ci(this,u,h,c)}}get locked(){if(!ke(this))throw $e("locked");return Oe(this)}cancel(t=void 0){return ke(this)?Oe(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):ue(this,t):p($e("cancel"))}getReader(t=void 0){if(!ke(this))throw $e("getReader");return _i(t,"First parameter").mode===void 0?Ge(this):Vn(this)}pipeThrough(t,r={}){if(!ke(this))throw $e("pipeThrough");_e(t,1,"pipeThrough");let i=Ti(t,"First parameter"),u=yo(r,"Second parameter");if(Oe(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ke(i.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let c=mo(this,i.writable,u.preventClose,u.preventAbort,u.preventCancel,u.signal);return U(c),i.readable}pipeTo(t,r={}){if(!ke(this))return p($e("pipeTo"));if(t===void 0)return p("Parameter 1 is required in 'pipeTo'.");if(!Ze(t))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let i;try{i=yo(r,"Second parameter")}catch(u){return p(u)}return Oe(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ke(t)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):mo(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)}tee(){if(!ke(this))throw $e("tee");let t=di(this);return pt(t)}values(t=void 0){if(!ke(this))throw $e("values");let r=Ri(t,"First parameter");return Sa(this,r.preventCancel)}}Object.defineProperties(De.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(De.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),typeof n.asyncIterator=="symbol"&&Object.defineProperty(De.prototype,n.asyncIterator,{value:De.prototype.values,writable:!0,configurable:!0});function an(e,t,r,i=1,u=()=>1){let c=Object.create(De.prototype);sn(c);let h=Object.create(et.prototype);return bo(c,h,e,t,r,i,u),c}function go(e,t,r){let i=Object.create(De.prototype);sn(i);let u=Object.create(Je.prototype);return Hn(i,u,e,t,r,0,void 0),i}function sn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ke(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof De}function Oe(e){return e._reader!==void 0}function ue(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return p(e._storedError);At(e);let r=e._reader;r!==void 0&&ze(r)&&(r._readIntoRequests.forEach(u=>{u._closeSteps(void 0)}),r._readIntoRequests=new Q);let i=e._readableStreamController[A](t);return F(i,a)}function At(e){e._state="closed";let t=e._reader;t!==void 0&&(Mt(t),Pe(t)&&(t._readRequests.forEach(r=>{r._closeSteps()}),t._readRequests=new Q))}function So(e,t){e._state="errored",e._storedError=t;let r=e._reader;r!==void 0&&(Qe(r,t),Pe(r)?(r._readRequests.forEach(i=>{i._errorSteps(t)}),r._readRequests=new Q):(r._readIntoRequests.forEach(i=>{i._errorSteps(t)}),r._readIntoRequests=new Q))}function $e(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function _o(e,t){Se(e,t);let r=e?.highWaterMark;return Fr(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Lr(r)}}let wo=e=>e.byteLength;try{Object.defineProperty(wo,"name",{value:"size",configurable:!0})}catch{}class ur{constructor(t){_e(t,1,"ByteLengthQueuingStrategy"),t=_o(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Co(this))throw Ro("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Co(this))throw Ro("size");return wo}}Object.defineProperties(ur.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(ur.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ro(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Co(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof ur}let To=()=>1;try{Object.defineProperty(To,"name",{value:"size",configurable:!0})}catch{}class fr{constructor(t){_e(t,1,"CountQueuingStrategy"),t=_o(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Ao(this))throw Eo("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Ao(this))throw Eo("size");return To}}Object.defineProperties(fr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(fr.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Eo(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Ao(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof fr}function Ei(e,t){Se(e,t);let r=e?.flush,i=e?.readableType,u=e?.start,c=e?.transform,h=e?.writableType;return{flush:r===void 0?void 0:Ai(r,e,`${t} has member 'flush' that`),readableType:i,start:u===void 0?void 0:Pi(u,e,`${t} has member 'start' that`),transform:c===void 0?void 0:vi(c,e,`${t} has member 'transform' that`),writableType:h}}function Ai(e,t,r){return se(e,r),i=>z(e,t,[i])}function Pi(e,t,r){return se(e,r),i=>x(e,t,[i])}function vi(e,t,r){return se(e,r),(i,u)=>z(e,t,[i,u])}class cr{constructor(t={},r={},i={}){t===void 0&&(t=null);let u=Zt(r,"Second parameter"),c=Zt(i,"Third parameter"),h=Ei(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let g=_t(c,0),B=Jt(c),W=_t(u,1),L=Jt(u),I,j=D(fe=>{I=fe});Bi(this,j,W,L,g,B),ki(this,h),h.start!==void 0?I(h.start(this._transformStreamController)):I(void 0)}get readable(){if(!Po(this))throw ko("readable");return this._readable}get writable(){if(!Po(this))throw ko("writable");return this._writable}}Object.defineProperties(cr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(cr.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});function Bi(e,t,r,i,u,c){function h(){return t}function g(j){return qi(e,j)}function B(j){return Fi(e,j)}function W(){return Li(e)}e._writable=za(h,g,W,B,r,i);function L(){return Ii(e)}function I(j){return hr(e,j),S(void 0)}e._readable=an(h,L,I,u,c),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,mr(e,!0),e._transformStreamController=void 0}function Po(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof cr}function dr(e,t){Be(e._readable._readableStreamController,t),hr(e,t)}function hr(e,t){vo(e._transformStreamController),Kr(e._writable._writableStreamController,t),e._backpressure&&mr(e,!1)}function mr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=D(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}class Pt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!pr(this))throw br("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return on(t)}enqueue(t=void 0){if(!pr(this))throw br("enqueue");Bo(this,t)}error(t=void 0){if(!pr(this))throw br("error");Oi(this,t)}terminate(){if(!pr(this))throw br("terminate");Wi(this)}}Object.defineProperties(Pt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function pr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Pt}function Di(e,t,r,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=i}function ki(e,t){let r=Object.create(Pt.prototype),i=c=>{try{return Bo(r,c),S(void 0)}catch(h){return p(h)}},u=()=>S(void 0);t.transform!==void 0&&(i=c=>t.transform(c,r)),t.flush!==void 0&&(u=()=>t.flush(r)),Di(e,r,i,u)}function vo(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Bo(e,t){let r=e._controlledTransformStream,i=r._readable._readableStreamController;if(!tt(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{sr(i,t)}catch(c){throw hr(r,c),r._readable._storedError}fi(i)!==r._backpressure&&mr(r,!0)}function Oi(e,t){dr(e._controlledTransformStream,t)}function Do(e,t){let r=e._transformAlgorithm(t);return F(r,void 0,i=>{throw dr(e._controlledTransformStream,i),i})}function Wi(e){let t=e._controlledTransformStream,r=t._readable._readableStreamController;Et(r);let i=new TypeError("TransformStream terminated");hr(t,i)}function qi(e,t){let r=e._transformStreamController;if(e._backpressure){let i=e._backpressureChangePromise;return F(i,()=>{let u=e._writable;if(u._state==="erroring")throw u._storedError;return Do(r,t)})}return Do(r,t)}function Fi(e,t){return dr(e,t),S(void 0)}function Li(e){let t=e._readable,r=e._transformStreamController,i=r._flushAlgorithm();return vo(r),F(i,()=>{if(t._state==="errored")throw t._storedError;Et(t._readableStreamController)},u=>{throw dr(e,u),t._storedError})}function Ii(e){return mr(e,!1),e._backpressureChangePromise}function br(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ko(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}o.ByteLengthQueuingStrategy=ur,o.CountQueuingStrategy=fr,o.ReadableByteStreamController=Je,o.ReadableStream=De,o.ReadableStreamBYOBReader=St,o.ReadableStreamBYOBRequest=bt,o.ReadableStreamDefaultController=et,o.ReadableStreamDefaultReader=ht,o.TransformStream=cr,o.TransformStreamDefaultController=Pt,o.WritableStream=wt,o.WritableStreamDefaultController=Xe,o.WritableStreamDefaultWriter=Rt,Object.defineProperty(o,"__esModule",{value:!0})})});var zo=un(()=>{if(!globalThis.ReadableStream)try{let o=require("node:process"),{emitWarning:n}=o;try{o.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),o.emitWarning=n}catch(a){throw o.emitWarning=n,a}}catch{Object.assign(globalThis,Io())}try{let{Blob:o}=require("buffer");o&&!o.prototype.stream&&(o.prototype.stream=function(a){let s=0,l=this;return new ReadableStream({type:"bytes",async pull(f){let R=await l.slice(s,Math.min(l.size,s+65536)).arrayBuffer();s+=R.byteLength,f.enqueue(new Uint8Array(R)),s===l.size&&f.close()}})})}catch{}});async function*fn(o,n=!0){for(let a of o)if("stream"in a)yield*a.stream();else if(ArrayBuffer.isView(a))if(n){let s=a.byteOffset,l=a.byteOffset+a.byteLength;for(;s!==l;){let f=Math.min(l-s,Mo),d=a.buffer.slice(s,s+f);s+=d.byteLength,yield new Uint8Array(d)}}else yield a;else{let s=0,l=a;for(;s!==l.size;){let d=await l.slice(s,Math.min(l.size,s+Mo)).arrayBuffer();s+=d.byteLength,yield new Uint8Array(d)}}}var ws,Mo,No,Hi,Ce,Bt=vt(()=>{ws=qe(zo(),1);Mo=65536;No=class cn{#e=[];#t="";#r=0;#n="transparent";constructor(n=[],a={}){if(typeof n!="object"||n===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof n[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof a!="object"&&typeof a!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");a===null&&(a={});let s=new TextEncoder;for(let f of n){let d;ArrayBuffer.isView(f)?d=new Uint8Array(f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)):f instanceof ArrayBuffer?d=new Uint8Array(f.slice(0)):f instanceof cn?d=f:d=s.encode(`${f}`),this.#r+=ArrayBuffer.isView(d)?d.byteLength:d.size,this.#e.push(d)}this.#n=`${a.endings===void 0?"transparent":a.endings}`;let l=a.type===void 0?"":String(a.type);this.#t=/^[\x20-\x7E]*$/.test(l)?l:""}get size(){return this.#r}get type(){return this.#t}async text(){let n=new TextDecoder,a="";for await(let s of fn(this.#e,!1))a+=n.decode(s,{stream:!0});return a+=n.decode(),a}async arrayBuffer(){let n=new Uint8Array(this.size),a=0;for await(let s of fn(this.#e,!1))n.set(s,a),a+=s.length;return n.buffer}stream(){let n=fn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(a){let s=await n.next();s.done?a.close():a.enqueue(s.value)},async cancel(){await n.return()}})}slice(n=0,a=this.size,s=""){let{size:l}=this,f=n<0?Math.max(l+n,0):Math.min(n,l),d=a<0?Math.max(l+a,0):Math.min(a,l),R=Math.max(d-f,0),y=this.#e,b=[],v=0;for(let S of y){if(v>=R)break;let p=ArrayBuffer.isView(S)?S.byteLength:S.size;if(f&&p<=f)f-=p,d-=p;else{let m;ArrayBuffer.isView(S)?(m=S.subarray(f,Math.min(p,d)),v+=m.byteLength):(m=S.slice(f,Math.min(p,d)),v+=m.size),d-=p,b.push(m),f=0}}let D=new cn([],{type:String(s).toLowerCase()});return D.#r=R,D.#e=b,D}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](n){return n&&typeof n=="object"&&typeof n.constructor=="function"&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&/^(Blob|File)$/.test(n[Symbol.toStringTag])}};Object.defineProperties(No.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Hi=No,Ce=Hi});var Vi,Yi,it,dn=vt(()=>{Bt();Vi=class extends Ce{#e=0;#t="";constructor(n,a,s={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(n,s),s===null&&(s={});let l=s.lastModified===void 0?Date.now():Number(s.lastModified);Number.isNaN(l)||(this.#e=l),this.#t=String(a)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](n){return!!n&&n instanceof Ce&&/^(File)$/.test(n[Symbol.toStringTag])}},Yi=Vi,it=Yi});function Uo(o,n=Ce){var a=`${$o()}${$o()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],l=`--${a}\r
Content-Disposition: form-data; name="`;return o.forEach((f,d)=>typeof f=="string"?s.push(l+hn(d)+`"\r
\r
${f.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(l+hn(d)+`"; filename="${hn(f.name,1)}"\r
Content-Type: ${f.type||"application/octet-stream"}\r
\r
`,f,`\r
`)),s.push(`--${a}--`),new n(s,{type:"multipart/form-data; boundary="+a})}var Dt,Qi,Gi,$o,Ji,xo,hn,xe,Ue,_r=vt(()=>{Bt();dn();({toStringTag:Dt,iterator:Qi,hasInstance:Gi}=Symbol),$o=Math.random,Ji="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),xo=(o,n,a)=>(o+="",/^(Blob|File)$/.test(n&&n[Dt])?[(a=a!==void 0?a+"":n[Dt]=="File"?n.name:"blob",o),n.name!==a||n[Dt]=="blob"?new it([n],a,n):n]:[o,n+""]),hn=(o,n)=>(n?o:o.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),xe=(o,n,a)=>{if(n.length<a)throw new TypeError(`Failed to execute '${o}' on 'FormData': ${a} arguments required, but only ${n.length} present.`)},Ue=class{#e=[];constructor(...n){if(n.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Dt](){return"FormData"}[Qi](){return this.entries()}static[Gi](n){return n&&typeof n=="object"&&n[Dt]==="FormData"&&!Ji.some(a=>typeof n[a]!="function")}append(...n){xe("append",arguments,2),this.#e.push(xo(...n))}delete(n){xe("delete",arguments,1),n+="",this.#e=this.#e.filter(([a])=>a!==n)}get(n){xe("get",arguments,1),n+="";for(var a=this.#e,s=a.length,l=0;l<s;l++)if(a[l][0]===n)return a[l][1];return null}getAll(n,a){return xe("getAll",arguments,1),a=[],n+="",this.#e.forEach(s=>s[0]===n&&a.push(s[1])),a}has(n){return xe("has",arguments,1),n+="",this.#e.some(a=>a[0]===n)}forEach(n,a){xe("forEach",arguments,1);for(var[s,l]of this)n.call(a,l,s,this)}set(...n){xe("set",arguments,2);var a=[],s=!0;n=xo(...n),this.#e.forEach(l=>{l[0]===n[0]?s&&(s=!a.push(n)):a.push(l)}),s&&a.push(n),this.#e=a}*entries(){yield*this.#e}*keys(){for(var[n]of this)yield n}*values(){for(var[,n]of this)yield n}}});var Qo=un((qs,Yo)=>{if(!globalThis.DOMException)try{let{MessageChannel:o}=require("worker_threads"),n=new o().port1,a=new ArrayBuffer;n.postMessage(a,[a,a])}catch(o){o.constructor.name==="DOMException"&&(globalThis.DOMException=o.constructor)}Yo.exports=globalThis.DOMException});var Rr,Zi,Is,pn=vt(()=>{Rr=require("node:fs"),Zi=qe(Qo(),1);dn();Bt();({stat:Is}=Rr.promises)});var Jo={};Wo(Jo,{toFormData:()=>os});function ns(o){let n=o.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!n)return;let a=n[2]||n[3]||"",s=a.slice(a.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(l,f)=>String.fromCharCode(f)),s}async function os(o,n){if(!/multipart/i.test(n))throw new TypeError("Failed to fetch");let a=n.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!a)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new bn(a[1]||a[2]),l,f,d,R,y,b,v=[],D=new Ue,S=k=>{d+=E.decode(k,{stream:!0})},p=k=>{v.push(k)},m=()=>{let k=new it(v,b,{type:y});D.append(R,k)},q=()=>{D.append(R,d)},E=new TextDecoder("utf-8");E.decode(),s.onPartBegin=function(){s.onPartData=S,s.onPartEnd=q,l="",f="",d="",R="",y="",b=null,v.length=0},s.onHeaderField=function(k){l+=E.decode(k,{stream:!0})},s.onHeaderValue=function(k){f+=E.decode(k,{stream:!0})},s.onHeaderEnd=function(){if(f+=E.decode(),l=l.toLowerCase(),l==="content-disposition"){let k=f.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);k&&(R=k[2]||k[3]||""),b=ns(f),b&&(s.onPartData=p,s.onPartEnd=m)}else l==="content-type"&&(y=f);f="",l=""};for await(let k of o)s.write(k);return s.end(),D}var be,$,Go,Fe,Cr,Tr,Ki,Ot,Xi,es,ts,rs,je,bn,Zo=vt(()=>{pn();_r();be=0,$={START_BOUNDARY:be++,HEADER_FIELD_START:be++,HEADER_FIELD:be++,HEADER_VALUE_START:be++,HEADER_VALUE:be++,HEADER_VALUE_ALMOST_DONE:be++,HEADERS_ALMOST_DONE:be++,PART_DATA_START:be++,PART_DATA:be++,END:be++},Go=1,Fe={PART_BOUNDARY:Go,LAST_BOUNDARY:Go*=2},Cr=10,Tr=13,Ki=32,Ot=45,Xi=58,es=97,ts=122,rs=o=>o|32,je=()=>{},bn=class{constructor(n){this.index=0,this.flags=0,this.onHeaderEnd=je,this.onHeaderField=je,this.onHeadersEnd=je,this.onHeaderValue=je,this.onPartBegin=je,this.onPartData=je,this.onPartEnd=je,this.boundaryChars={},n=`\r
--`+n;let a=new Uint8Array(n.length);for(let s=0;s<n.length;s++)a[s]=n.charCodeAt(s),this.boundaryChars[a[s]]=!0;this.boundary=a,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=$.START_BOUNDARY}write(n){let a=0,s=n.length,l=this.index,{lookbehind:f,boundary:d,boundaryChars:R,index:y,state:b,flags:v}=this,D=this.boundary.length,S=D-1,p=n.length,m,q,E=_=>{this[_+"Mark"]=a},k=_=>{delete this[_+"Mark"]},F=(_,x,z,me)=>{(x===void 0||x!==z)&&this[_](me&&me.subarray(x,z))},U=(_,x)=>{let z=_+"Mark";z in this&&(x?(F(_,this[z],a,n),delete this[z]):(F(_,this[z],n.length,n),this[z]=0))};for(a=0;a<s;a++)switch(m=n[a],b){case $.START_BOUNDARY:if(y===d.length-2){if(m===Ot)v|=Fe.LAST_BOUNDARY;else if(m!==Tr)return;y++;break}else if(y-1===d.length-2){if(v&Fe.LAST_BOUNDARY&&m===Ot)b=$.END,v=0;else if(!(v&Fe.LAST_BOUNDARY)&&m===Cr)y=0,F("onPartBegin"),b=$.HEADER_FIELD_START;else return;break}m!==d[y+2]&&(y=-2),m===d[y+2]&&y++;break;case $.HEADER_FIELD_START:b=$.HEADER_FIELD,E("onHeaderField"),y=0;case $.HEADER_FIELD:if(m===Tr){k("onHeaderField"),b=$.HEADERS_ALMOST_DONE;break}if(y++,m===Ot)break;if(m===Xi){if(y===1)return;U("onHeaderField",!0),b=$.HEADER_VALUE_START;break}if(q=rs(m),q<es||q>ts)return;break;case $.HEADER_VALUE_START:if(m===Ki)break;E("onHeaderValue"),b=$.HEADER_VALUE;case $.HEADER_VALUE:m===Tr&&(U("onHeaderValue",!0),F("onHeaderEnd"),b=$.HEADER_VALUE_ALMOST_DONE);break;case $.HEADER_VALUE_ALMOST_DONE:if(m!==Cr)return;b=$.HEADER_FIELD_START;break;case $.HEADERS_ALMOST_DONE:if(m!==Cr)return;F("onHeadersEnd"),b=$.PART_DATA_START;break;case $.PART_DATA_START:b=$.PART_DATA,E("onPartData");case $.PART_DATA:if(l=y,y===0){for(a+=S;a<p&&!(n[a]in R);)a+=D;a-=S,m=n[a]}if(y<d.length)d[y]===m?(y===0&&U("onPartData",!0),y++):y=0;else if(y===d.length)y++,m===Tr?v|=Fe.PART_BOUNDARY:m===Ot?v|=Fe.LAST_BOUNDARY:y=0;else if(y-1===d.length)if(v&Fe.PART_BOUNDARY){if(y=0,m===Cr){v&=~Fe.PART_BOUNDARY,F("onPartEnd"),F("onPartBegin"),b=$.HEADER_FIELD_START;break}}else v&Fe.LAST_BOUNDARY&&m===Ot?(F("onPartEnd"),b=$.END,v=0):y=0;if(y>0)f[y-1]=m;else if(l>0){let _=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);F("onPartData",0,l,_),l=0,E("onPartData"),a--}break;case $.END:break;default:throw new Error(`Unexpected state entered: ${b}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=y,this.state=b,this.flags=v}end(){if(this.state===$.HEADER_FIELD_START&&this.index===0||this.state===$.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==$.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ps={};Wo(ps,{default:()=>ba});module.exports=Ui(ps);var da=qe(require("node:http"),1),ha=qe(require("node:https"),1),Ve=qe(require("node:zlib"),1),re=qe(require("node:stream"),1),Ft=require("node:buffer");function ji(o){if(!/^data:/i.test(o))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');o=o.replace(/\r?\n/g,"");let n=o.indexOf(",");if(n===-1||n<=4)throw new TypeError("malformed data: URI");let a=o.substring(5,n).split(";"),s="",l=!1,f=a[0]||"text/plain",d=f;for(let v=1;v<a.length;v++)a[v]==="base64"?l=!0:a[v]&&(d+=`;${a[v]}`,a[v].indexOf("charset=")===0&&(s=a[v].substring(8)));!a[0]&&!s.length&&(d+=";charset=US-ASCII",s="US-ASCII");let R=l?"base64":"ascii",y=unescape(o.substring(n+1)),b=Buffer.from(y,R);return b.type=f,b.typeFull=d,b.charset=s,b}var Fo=ji;var ae=qe(require("node:stream"),1),Ee=require("node:util"),ee=require("node:buffer");Bt();_r();var Te=class extends Error{constructor(n,a){super(n),Error.captureStackTrace(this,this.constructor),this.type=a}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Z=class extends Te{constructor(n,a,s){super(n,a),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};var wr=Symbol.toStringTag,mn=o=>typeof o=="object"&&typeof o.append=="function"&&typeof o.delete=="function"&&typeof o.get=="function"&&typeof o.getAll=="function"&&typeof o.has=="function"&&typeof o.set=="function"&&typeof o.sort=="function"&&o[wr]==="URLSearchParams",kt=o=>o&&typeof o=="object"&&typeof o.arrayBuffer=="function"&&typeof o.type=="string"&&typeof o.stream=="function"&&typeof o.constructor=="function"&&/^(Blob|File)$/.test(o[wr]),jo=o=>typeof o=="object"&&(o[wr]==="AbortSignal"||o[wr]==="EventTarget"),Ho=(o,n)=>{let a=new URL(n).hostname,s=new URL(o).hostname;return a===s||a.endsWith(`.${s}`)},Vo=(o,n)=>{let a=new URL(n).protocol,s=new URL(o).protocol;return a===s};var as=(0,Ee.promisify)(ae.default.pipeline),K=Symbol("Body internals"),ye=class{constructor(n,{size:a=0}={}){let s=null;n===null?n=null:mn(n)?n=ee.Buffer.from(n.toString()):kt(n)||ee.Buffer.isBuffer(n)||(Ee.types.isAnyArrayBuffer(n)?n=ee.Buffer.from(n):ArrayBuffer.isView(n)?n=ee.Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ae.default||(n instanceof Ue?(n=Uo(n),s=n.type.split("=")[1]):n=ee.Buffer.from(String(n))));let l=n;ee.Buffer.isBuffer(n)?l=ae.default.Readable.from(n):kt(n)&&(l=ae.default.Readable.from(n.stream())),this[K]={body:n,stream:l,boundary:s,disturbed:!1,error:null},this.size=a,n instanceof ae.default&&n.on("error",f=>{let d=f instanceof Te?f:new Z(`Invalid response body while trying to fetch ${this.url}: ${f.message}`,"system",f);this[K].error=d})}get body(){return this[K].stream}get bodyUsed(){return this[K].disturbed}async arrayBuffer(){let{buffer:n,byteOffset:a,byteLength:s}=await yn(this);return n.slice(a,a+s)}async formData(){let n=this.headers.get("content-type");if(n.startsWith("application/x-www-form-urlencoded")){let s=new Ue,l=new URLSearchParams(await this.text());for(let[f,d]of l)s.append(f,d);return s}let{toFormData:a}=await Promise.resolve().then(()=>(Zo(),Jo));return a(this.body,n)}async blob(){let n=this.headers&&this.headers.get("content-type")||this[K].body&&this[K].body.type||"",a=await this.arrayBuffer();return new Ce([a],{type:n})}async json(){let n=await this.text();return JSON.parse(n)}async text(){let n=await yn(this);return new TextDecoder().decode(n)}buffer(){return yn(this)}};ye.prototype.buffer=(0,Ee.deprecate)(ye.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ye.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ee.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function yn(o){if(o[K].disturbed)throw new TypeError(`body used already for: ${o.url}`);if(o[K].disturbed=!0,o[K].error)throw o[K].error;let{body:n}=o;if(n===null)return ee.Buffer.alloc(0);if(!(n instanceof ae.default))return ee.Buffer.alloc(0);let a=[],s=0;try{for await(let l of n){if(o.size>0&&s+l.length>o.size){let f=new Z(`content size at ${o.url} over limit: ${o.size}`,"max-size");throw n.destroy(f),f}s+=l.length,a.push(l)}}catch(l){throw l instanceof Te?l:new Z(`Invalid response body while trying to fetch ${o.url}: ${l.message}`,"system",l)}if(n.readableEnded===!0||n._readableState.ended===!0)try{return a.every(l=>typeof l=="string")?ee.Buffer.from(a.join("")):ee.Buffer.concat(a,s)}catch(l){throw new Z(`Could not create Buffer from response body for ${o.url}: ${l.message}`,"system",l)}else throw new Z(`Premature close of server response while trying to fetch ${o.url}`)}var st=(o,n)=>{let a,s,{body:l}=o[K];if(o.bodyUsed)throw new Error("cannot clone body after it is used");return l instanceof ae.default&&typeof l.getBoundary!="function"&&(a=new ae.PassThrough({highWaterMark:n}),s=new ae.PassThrough({highWaterMark:n}),l.pipe(a),l.pipe(s),o[K].stream=a,l=s),l},is=(0,Ee.deprecate)(o=>o.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Er=(o,n)=>o===null?null:typeof o=="string"?"text/plain;charset=UTF-8":mn(o)?"application/x-www-form-urlencoded;charset=UTF-8":kt(o)?o.type||null:ee.Buffer.isBuffer(o)||Ee.types.isAnyArrayBuffer(o)||ArrayBuffer.isView(o)?null:o instanceof Ue?`multipart/form-data; boundary=${n[K].boundary}`:o&&typeof o.getBoundary=="function"?`multipart/form-data;boundary=${is(o)}`:o instanceof ae.default?null:"text/plain;charset=UTF-8",Ko=o=>{let{body:n}=o[K];return n===null?0:kt(n)?n.size:ee.Buffer.isBuffer(n)?n.length:n&&typeof n.getLengthSync=="function"&&n.hasKnownLength&&n.hasKnownLength()?n.getLengthSync():null},Xo=async(o,{body:n})=>{n===null?o.end():await as(n,o)};var gn=require("node:util"),Wt=qe(require("node:http"),1),Ar=typeof Wt.default.validateHeaderName=="function"?Wt.default.validateHeaderName:o=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(o)){let n=new TypeError(`Header name must be a valid HTTP token [${o}]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),n}},Sn=typeof Wt.default.validateHeaderValue=="function"?Wt.default.validateHeaderValue:(o,n)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(n)){let a=new TypeError(`Invalid character in header content ["${o}"]`);throw Object.defineProperty(a,"code",{value:"ERR_INVALID_CHAR"}),a}},te=class o extends URLSearchParams{constructor(n){let a=[];if(n instanceof o){let s=n.raw();for(let[l,f]of Object.entries(s))a.push(...f.map(d=>[l,d]))}else if(n!=null)if(typeof n=="object"&&!gn.types.isBoxedPrimitive(n)){let s=n[Symbol.iterator];if(s==null)a.push(...Object.entries(n));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");a=[...n].map(l=>{if(typeof l!="object"||gn.types.isBoxedPrimitive(l))throw new TypeError("Each header pair must be an iterable object");return[...l]}).map(l=>{if(l.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...l]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return a=a.length>0?a.map(([s,l])=>(Ar(s),Sn(s,String(l)),[String(s).toLowerCase(),String(l)])):void 0,super(a),new Proxy(this,{get(s,l,f){switch(l){case"append":case"set":return(d,R)=>(Ar(d),Sn(d,String(R)),URLSearchParams.prototype[l].call(s,String(d).toLowerCase(),String(R)));case"delete":case"has":case"getAll":return d=>(Ar(d),URLSearchParams.prototype[l].call(s,String(d).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,l,f)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(n){let a=this.getAll(n);if(a.length===0)return null;let s=a.join(", ");return/^content-encoding$/i.test(n)&&(s=s.toLowerCase()),s}forEach(n,a=void 0){for(let s of this.keys())Reflect.apply(n,a,[this.get(s),s,this])}*values(){for(let n of this.keys())yield this.get(n)}*entries(){for(let n of this.keys())yield[n,this.get(n)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((n,a)=>(n[a]=this.getAll(a),n),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((n,a)=>{let s=this.getAll(a);return a==="host"?n[a]=s[0]:n[a]=s.length>1?s:s[0],n},{})}};Object.defineProperties(te.prototype,["get","entries","forEach","values"].reduce((o,n)=>(o[n]={enumerable:!0},o),{}));function ea(o=[]){return new te(o.reduce((n,a,s,l)=>(s%2===0&&n.push(l.slice(s,s+2)),n),[]).filter(([n,a])=>{try{return Ar(n),Sn(n,String(a)),!0}catch{return!1}}))}var ss=new Set([301,302,303,307,308]),Pr=o=>ss.has(o);var ce=Symbol("Response internals"),ie=class o extends ye{constructor(n=null,a={}){super(n,a);let s=a.status!=null?a.status:200,l=new te(a.headers);if(n!==null&&!l.has("Content-Type")){let f=Er(n,this);f&&l.append("Content-Type",f)}this[ce]={type:"default",url:a.url,status:s,statusText:a.statusText||"",headers:l,counter:a.counter,highWaterMark:a.highWaterMark}}get type(){return this[ce].type}get url(){return this[ce].url||""}get status(){return this[ce].status}get ok(){return this[ce].status>=200&&this[ce].status<300}get redirected(){return this[ce].counter>0}get statusText(){return this[ce].statusText}get headers(){return this[ce].headers}get highWaterMark(){return this[ce].highWaterMark}clone(){return new o(st(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(n,a=302){if(!Pr(a))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new o(null,{headers:{location:new URL(n).toString()},status:a})}static error(){let n=new o(null,{status:0,statusText:""});return n[ce].type="error",n}static json(n=void 0,a={}){let s=JSON.stringify(n);if(s===void 0)throw new TypeError("data is not JSON serializable");let l=new te(a&&a.headers);return l.has("content-type")||l.set("content-type","application/json"),new o(s,{...a,headers:l})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ie.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var ua=require("node:url"),fa=require("node:util");var ta=o=>{if(o.search)return o.search;let n=o.href.length-1,a=o.hash||(o.href[n]==="#"?"#":"");return o.href[n-a.length]==="?"?"?":""};var na=require("node:net");function ra(o,n=!1){return o==null||(o=new URL(o),/^(about|blob|data):$/.test(o.protocol))?"no-referrer":(o.username="",o.password="",o.hash="",n&&(o.pathname="",o.search=""),o)}var oa=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),aa="strict-origin-when-cross-origin";function ia(o){if(!oa.has(o))throw new TypeError(`Invalid referrerPolicy: ${o}`);return o}function ls(o){if(/^(http|ws)s:$/.test(o.protocol))return!0;let n=o.host.replace(/(^\[)|(]$)/g,""),a=(0,na.isIP)(n);return a===4&&/^127\./.test(n)||a===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(n)?!0:o.host==="localhost"||o.host.endsWith(".localhost")?!1:o.protocol==="file:"}function lt(o){return/^about:(blank|srcdoc)$/.test(o)||o.protocol==="data:"||/^(blob|filesystem):$/.test(o.protocol)?!0:ls(o)}function sa(o,{referrerURLCallback:n,referrerOriginCallback:a}={}){if(o.referrer==="no-referrer"||o.referrerPolicy==="")return null;let s=o.referrerPolicy;if(o.referrer==="about:client")return"no-referrer";let l=o.referrer,f=ra(l),d=ra(l,!0);f.toString().length>4096&&(f=d),n&&(f=n(f)),a&&(d=a(d));let R=new URL(o.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return d;case"unsafe-url":return f;case"strict-origin":return lt(f)&&!lt(R)?"no-referrer":d.toString();case"strict-origin-when-cross-origin":return f.origin===R.origin?f:lt(f)&&!lt(R)?"no-referrer":d;case"same-origin":return f.origin===R.origin?f:"no-referrer";case"origin-when-cross-origin":return f.origin===R.origin?f:d;case"no-referrer-when-downgrade":return lt(f)&&!lt(R)?"no-referrer":f;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function la(o){let n=(o.get("referrer-policy")||"").split(/[,\s]+/),a="";for(let s of n)s&&oa.has(s)&&(a=s);return a}var V=Symbol("Request internals"),qt=o=>typeof o=="object"&&typeof o[V]=="object",us=(0,fa.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),He=class o extends ye{constructor(n,a={}){let s;if(qt(n)?s=new URL(n.url):(s=new URL(n),n={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentials.`);let l=a.method||n.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(l)&&(l=l.toUpperCase()),!qt(a)&&"data"in a&&us(),(a.body!=null||qt(n)&&n.body!==null)&&(l==="GET"||l==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let f=a.body?a.body:qt(n)&&n.body!==null?st(n):null;super(f,{size:a.size||n.size||0});let d=new te(a.headers||n.headers||{});if(f!==null&&!d.has("Content-Type")){let b=Er(f,this);b&&d.set("Content-Type",b)}let R=qt(n)?n.signal:null;if("signal"in a&&(R=a.signal),R!=null&&!jo(R))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let y=a.referrer==null?n.referrer:a.referrer;if(y==="")y="no-referrer";else if(y){let b=new URL(y);y=/^about:(\/\/)?client$/.test(b)?"client":b}else y=void 0;this[V]={method:l,redirect:a.redirect||n.redirect||"follow",headers:d,parsedURL:s,signal:R,referrer:y},this.follow=a.follow===void 0?n.follow===void 0?20:n.follow:a.follow,this.compress=a.compress===void 0?n.compress===void 0?!0:n.compress:a.compress,this.counter=a.counter||n.counter||0,this.agent=a.agent||n.agent,this.highWaterMark=a.highWaterMark||n.highWaterMark||16384,this.insecureHTTPParser=a.insecureHTTPParser||n.insecureHTTPParser||!1,this.referrerPolicy=a.referrerPolicy||n.referrerPolicy||""}get method(){return this[V].method}get url(){return(0,ua.format)(this[V].parsedURL)}get headers(){return this[V].headers}get redirect(){return this[V].redirect}get signal(){return this[V].signal}get referrer(){if(this[V].referrer==="no-referrer")return"";if(this[V].referrer==="client")return"about:client";if(this[V].referrer)return this[V].referrer.toString()}get referrerPolicy(){return this[V].referrerPolicy}set referrerPolicy(n){this[V].referrerPolicy=ia(n)}clone(){return new o(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(He.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ca=o=>{let{parsedURL:n}=o[V],a=new te(o[V].headers);a.has("Accept")||a.set("Accept","*/*");let s=null;if(o.body===null&&/^(post|put)$/i.test(o.method)&&(s="0"),o.body!==null){let R=Ko(o);typeof R=="number"&&!Number.isNaN(R)&&(s=String(R))}s&&a.set("Content-Length",s),o.referrerPolicy===""&&(o.referrerPolicy=aa),o.referrer&&o.referrer!=="no-referrer"?o[V].referrer=sa(o):o[V].referrer="no-referrer",o[V].referrer instanceof URL&&a.set("Referer",o.referrer),a.has("User-Agent")||a.set("User-Agent","node-fetch"),o.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip, deflate, br");let{agent:l}=o;typeof l=="function"&&(l=l(n)),!a.has("Connection")&&!l&&a.set("Connection","close");let f=ta(n),d={path:n.pathname+f,method:o.method,headers:a[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:o.insecureHTTPParser,agent:l};return{parsedURL:n,options:d}};var vr=class extends Te{constructor(n,a="aborted"){super(n,a)}};_r();pn();var fs=new Set(["data:","http:","https:"]);async function Br(o,n){return new Promise((a,s)=>{let l=new He(o,n),{parsedURL:f,options:d}=ca(l);if(!fs.has(f.protocol))throw new TypeError(`node-fetch cannot load ${o}. URL scheme "${f.protocol.replace(/:$/,"")}" is not supported.`);if(f.protocol==="data:"){let m=Fo(l.url),q=new ie(m,{headers:{"Content-Type":m.typeFull}});a(q);return}let R=(f.protocol==="https:"?ha.default:da.default).request,{signal:y}=l,b=null,v=()=>{let m=new vr("The operation was aborted.");s(m),l.body&&l.body instanceof re.default.Readable&&l.body.destroy(m),!(!b||!b.body)&&b.body.emit("error",m)};if(y&&y.aborted){v();return}let D=()=>{v(),p()},S=R(f.toString(),d);y&&y.addEventListener("abort",D);let p=()=>{S.abort(),y&&y.removeEventListener("abort",D)};S.on("error",m=>{s(new Z(`request to ${l.url} failed, reason: ${m.message}`,"system",m)),p()}),cs(S,m=>{b&&b.body&&b.body.destroy(m)}),process.version<"v14"&&S.on("socket",m=>{let q;m.prependListener("end",()=>{q=m._eventsCount}),m.prependListener("close",E=>{if(b&&q<m._eventsCount&&!E){let k=new Error("Premature close");k.code="ERR_STREAM_PREMATURE_CLOSE",b.body.emit("error",k)}})}),S.on("response",m=>{S.setTimeout(0);let q=ea(m.rawHeaders);if(Pr(m.statusCode)){let _=q.get("Location"),x=null;try{x=_===null?null:new URL(_,l.url)}catch{if(l.redirect!=="manual"){s(new Z(`uri requested responds with an invalid redirect URL: ${_}`,"invalid-redirect")),p();return}}switch(l.redirect){case"error":s(new Z(`uri requested responds with a redirect, redirect mode is set to error: ${l.url}`,"no-redirect")),p();return;case"manual":break;case"follow":{if(x===null)break;if(l.counter>=l.follow){s(new Z(`maximum redirect reached at: ${l.url}`,"max-redirect")),p();return}let z={headers:new te(l.headers),follow:l.follow,counter:l.counter+1,agent:l.agent,compress:l.compress,method:l.method,body:st(l),signal:l.signal,size:l.size,referrer:l.referrer,referrerPolicy:l.referrerPolicy};if(!Ho(l.url,x)||!Vo(l.url,x))for(let Q of["authorization","www-authenticate","cookie","cookie2"])z.headers.delete(Q);if(m.statusCode!==303&&l.body&&n.body instanceof re.default.Readable){s(new Z("Cannot follow redirect with body being a readable stream","unsupported-redirect")),p();return}(m.statusCode===303||(m.statusCode===301||m.statusCode===302)&&l.method==="POST")&&(z.method="GET",z.body=void 0,z.headers.delete("content-length"));let me=la(q);me&&(z.referrerPolicy=me),a(Br(new He(x,z))),p();return}default:return s(new TypeError(`Redirect option '${l.redirect}' is not a valid value of RequestRedirect`))}}y&&m.once("end",()=>{y.removeEventListener("abort",D)});let E=(0,re.pipeline)(m,new re.PassThrough,_=>{_&&s(_)});process.version<"v12.10"&&m.on("aborted",D);let k={url:l.url,status:m.statusCode,statusText:m.statusMessage,headers:q,size:l.size,counter:l.counter,highWaterMark:l.highWaterMark},F=q.get("Content-Encoding");if(!l.compress||l.method==="HEAD"||F===null||m.statusCode===204||m.statusCode===304){b=new ie(E,k),a(b);return}let U={flush:Ve.default.Z_SYNC_FLUSH,finishFlush:Ve.default.Z_SYNC_FLUSH};if(F==="gzip"||F==="x-gzip"){E=(0,re.pipeline)(E,Ve.default.createGunzip(U),_=>{_&&s(_)}),b=new ie(E,k),a(b);return}if(F==="deflate"||F==="x-deflate"){let _=(0,re.pipeline)(m,new re.PassThrough,x=>{x&&s(x)});_.once("data",x=>{(x[0]&15)===8?E=(0,re.pipeline)(E,Ve.default.createInflate(),z=>{z&&s(z)}):E=(0,re.pipeline)(E,Ve.default.createInflateRaw(),z=>{z&&s(z)}),b=new ie(E,k),a(b)}),_.once("end",()=>{b||(b=new ie(E,k),a(b))});return}if(F==="br"){E=(0,re.pipeline)(E,Ve.default.createBrotliDecompress(),_=>{_&&s(_)}),b=new ie(E,k),a(b);return}b=new ie(E,k),a(b)}),Xo(S,l).catch(s)})}function cs(o,n){let a=Ft.Buffer.from(`0\r
\r
`),s=!1,l=!1,f;o.on("response",d=>{let{headers:R}=d;s=R["transfer-encoding"]==="chunked"&&!R["content-length"]}),o.on("socket",d=>{let R=()=>{if(s&&!l){let b=new Error("Premature close");b.code="ERR_STREAM_PREMATURE_CLOSE",n(b)}},y=b=>{l=Ft.Buffer.compare(b.slice(-5),a)===0,!l&&f&&(l=Ft.Buffer.compare(f.slice(-3),a.slice(0,3))===0&&Ft.Buffer.compare(b.slice(-2),a.slice(3))===0),f=b};d.prependListener("close",R),d.on("data",y),o.on("close",()=>{d.removeListener("close",R),d.removeListener("data",y)})})}var Lt=require("@raycast/api");var Dr,kr,ds=async o=>{Dr={baseURL:"https://bard.google.com",headers:{Host:"bard.google.com","X-Same-Domain":"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Origin:"https://bard.google.com",Referer:"https://bard.google.com/",Cookie:`__Secure-1PSID=${o};`}};let s=(await(await fetch("https://bard.google.com/",{method:"GET",headers:Dr.headers,credentials:"include"})).text()).match(/SNlM0e":"(.*?)"/);if(s)kr=s[1];else throw new Error("Could not get Google Bard.");return kr},_n=async(o,n={})=>{if(!kr)throw new Error("Make sure to call Bard.init(SESSION_ID) first.");let a={bl:"boq_assistant-bard-web-server_20230711.08_p0",_reqID:n._reqID?`${n._reqID}`:"0",rt:"c"},s=[[o],null,n?Object.values(n).slice(0,3):[null,null,null]],l={"f.req":JSON.stringify([null,JSON.stringify(s)]),at:kr},f=new URL("/_/BardChatUi/data/assistant.lamda.BardFrontendService/StreamGenerate",Dr.baseURL);Object.keys(a).forEach(m=>f.searchParams.append(m,a[m]));let d=[];for(let m in l){let q=encodeURIComponent(m),E=encodeURIComponent(l[m]);d.push(q+"="+E)}d=d.join("&");let y=await(await fetch(f.toString(),{method:"POST",headers:Dr.headers,body:d,credentials:"include"})).text(),b=JSON.parse(y.split(`
`)[3])[0][2];if(!b)throw new Error(`Google Bard encountered an error ${y}.`);let v=JSON.parse(b),D=JSON.parse(b)[4][0],S=D[1][0],p=D[4]?.map(m=>({tag:m[2],url:m[3][0][0],source:{original:m[0][0][0],website:m[1][0][0],name:m[1][1],favicon:m[1][3]}}));return{content:hs(S,p),images:p,ids:{conversationID:v[1][0],responseID:v[1][1],choiceID:v[4][0][0],_reqID:parseInt(n._reqID??0)+1e5}}},hs=(o,n)=>{if(!n)return o;for(let a of n){let s=`!${a.tag}(${a.url})`;o=o.replace(new RegExp("(?<!!)"+a.tag.replace("[","\\[").replace("]","\\]")),s)}return o},ms=async(o,n=!1)=>n?await _n(o):(await _n(o)).content,wn=class{constructor(n){this.ids=n}async ask(n,a=!1){let s=await _n(n,this.ids);return this.ids={...s.ids},a?s:s.content}export(){return this.ids}},ut={init:ds,askAI:ms,Chat:wn};var M=require("@raycast/api"),he=require("react"),w=require("@raycast/api");var Ye=require("@raycast/api"),de=require("react"),Or=new Proxy(()=>Or,{get:()=>Or,apply:()=>Or});function Rn(){let[o,n]=(0,de.useState)(null),[a,s]=(0,de.useState)({}),[l,f]=(0,de.useState)(null),d={CONV:"conversation",CONV_NAME:"conversationName"},R={CONV:[{name:"New Conversation",ids:{conversationID:void 0,responseID:void 0,choiceID:void 0,_reqID:"0"},questions:[]}],CONV_NAME:"New Conversation"},[y,b]=(0,de.useState)(!1);(0,de.useEffect)(()=>{b(o!==null&&l!==null&&a[l]!==void 0)},[o,l,a]);let v=(E=o,k=l)=>y?E[a[k]]:Or,D=E=>(async()=>{await Ye.LocalStorage.setItem(d.CONV,JSON.stringify(E))})(),S=E=>(async()=>{await Ye.LocalStorage.setItem(d.CONV_NAME,E)})(),p=async()=>{let E=await Ye.LocalStorage.getItem(d.CONV);return E!==void 0?JSON.parse(E):void 0},m=async()=>await Ye.LocalStorage.getItem(d.CONV_NAME),q=E=>{s(E.reduce((k,F,U)=>({...k,[F.name]:U}),{}))};return(0,de.useEffect)(()=>{y&&q(o)},[o]),(0,de.useEffect)(()=>{(async()=>{await p()||D(R.CONV),await m()||S(R.CONV_NAME);let E=await p();n(E);let k=await m();f(k),q(E)})()},[]),(0,de.useEffect)(()=>{y&&(async()=>await Ye.LocalStorage.setItem(d.CONV_NAME,l))()},[l]),(0,de.useEffect)(()=>{y&&(async()=>await Ye.LocalStorage.setItem(d.CONV,JSON.stringify(o)))()},[o]),{name:[l,f],list:[o,n],nameToIndexMap:a,isLoaded:y,getCurrentConversation:v}}var ma=require("@raycast/api"),pa=require("@raycast/api");globalThis.fetch=Br;function ba(){let{name:[o,n],list:[a,s],nameToIndexMap:l,isLoaded:f,getCurrentConversation:d}=Rn(),[R,y]=(0,he.useState)(!0),[b,v]=(0,he.useState)(""),[D,S]=(0,he.useState)(!1),[p,m]=(0,he.useState)(!0),[q,E]=(0,he.useState)(!0),k=(0,Lt.getPreferenceValues)();(0,he.useEffect)(()=>{(async()=>{try{let P=Date.now();_(M.Toast.Style.Animated,"Please wait for Bard to initialize."),m(!0),await ut.init(k["__Secure-1PSID"]),m(!1),_(M.Toast.Style.Success,`Bard initialized in ${(Date.now()-P)/1e3} seconds.`),E(!1)}catch{y(!1),_(M.Toast.Style.Failure,"Bard couldn't connect."),E(!1)}s(P=>{let A=structuredClone(P),H=d(A),Y=H.questions[0];return Y.ids=F.export(),H.ids=Y.ids,A})})()},[]),(0,he.useEffect)(()=>{let C=d().questions;if(typeof C=="object"&&!p&&f&&C.length&&C[0].response==="Loading..."){let P=Date.now();S(!0),_(M.Toast.Style.Animated,"Getting response from Bard..."),(async()=>{let A=await F.ask(C[0].question);_(M.Toast.Style.Success,`Response recieved in ${(Date.now()-P)/1e3} seconds`),s(H=>{let Y=structuredClone(H),Ae=d(Y),dt=Ae.questions[0];return dt.response=A,dt.ids=F.export(),Ae.ids=dt.ids,S(!1),Y})})()}},[f,p]);let[F,U]=(0,he.useState)(new ut.Chat);(0,he.useEffect)(()=>{typeof d().ids=="object"?U(new ut.Chat(d().ids)):U(new ut.Chat)},[a,o]);let _=(C,P)=>(async()=>await(0,M.showToast)({style:C,title:P}))(),x=async()=>{if(p)_(M.Toast.Style.Failure,"Bard is still initialzing.");else if(R)if(b)if(D){_(M.Toast.Style.Failure,"Please wait for current message to finish loading.");return}else{v(""),S(!0);let C=Date.now();_(M.Toast.Style.Animated,"Getting response from Bard..."),s(P=>{let A=structuredClone(P);return d(A).questions.unshift({question:b,response:"Loading...",metadata:{conversationID:"Loading IDs...",responseID:"Loading IDs...",date:new Date}}),A});try{let P=await F.ask(b);_(M.Toast.Style.Success,`Response recieved in ${(Date.now()-C)/1e3} seconds`),s(A=>{let H=structuredClone(A),Y=d(H),Ae=Y.questions[0];return Ae.response=P,Ae.ids=F.export(),Y.ids=Ae.ids,S(!1),H})}catch{_(M.Toast.Style.Failure,"Bard appears to be unavailable at this time."),s(P=>{let A=structuredClone(P),H=d(A).questions[0];return H.response="Failure to fetch Bard",S(!1),A})}}else{_(M.Toast.Style.Failure,"Cannot submit empty message.");return}else{_(M.Toast.Style.Failure,"Bard appears to be unavailable at this time.");return}},z=async()=>{if(await(0,w.confirmAlert)({title:"Confirm Rset",message:"Are you sure you want to delete this conversation? This is an irreversible action.",primaryAction:{title:"Delete",style:w.Alert.ActionStyle.Destructive}})){let C=l[o];s(P=>{let A=structuredClone(P);return A.length===1?(A[0].ids={},A[0].questions=[],A[0].name="New Conversation",l=["New Conversation"],_(M.Toast.Style.Success,`Deleted only conversation, "${o}", and restored a new conversation.`),A):(A.splice(C,1),n(A[C===0?C:C-1].name),_(M.Toast.Style.Success,`Successfully deleted conversation "${o}"`),A)})}},me=async()=>{await(0,w.confirmAlert)({title:"Confirm Reset",message:"Are you sure you want to reset this conversation? This is an irreversible action.",primaryAction:{title:"Reset",style:w.Alert.ActionStyle.Destructive}})&&s(C=>{let P=structuredClone(C);return d(P).questions=[],_(M.Toast.Style.Success,`Successfully reset conversation "${o}"`),P})},Q=async()=>{await(0,w.confirmAlert)({title:"Confirm Purge",message:"Are you sure you want to completely clear all memory associated with the Google Bard extension? This is an irreversable action, and will result in the loss of all of your conversations, messages, and answers.",primaryAction:{title:"Continue",style:w.Alert.ActionStyle.Destructive}})&&await(0,w.confirmAlert)({title:"About to Purge",message:"Clicking on purge will remove all conversations and messages. Please be sure.",primaryAction:{title:"Purge",style:w.Alert.ActionStyle.Destructive}})&&await ma.LocalStorage.clear()},It=()=>{let C=l[o];if(C>0){let P=a[C-1].name;n(P),_(M.Toast.Style.Success,`Moved to previous conversation, "${P}"`)}else _(M.Toast.Style.Failure,"No previous conversations.")},ft=()=>{let C=l[o];if(C<a.length-1){let P=a[C+1].name;n(P),_(M.Toast.Style.Success,`Moved to next conversation, "${P}"`)}else _(M.Toast.Style.Failure,"No newer conversations.")};function ne(C="Create Conversation",P=()=>{}){return _jsx(w.Form,{actions:_jsx(w.ActionPanel,null,_jsx(w.Action.SubmitForm,{title:C,onSubmit:P}))},_jsx(w.Form.TextField,{id:"name",title:"Name",placeholder:"New Conversation Name"}))}let ge=C=>{let P=!0;return a.map(A=>A.name).includes(C)&&(_(M.Toast.Style.Failure,`Conversation "${C}" already exists`),P=!1),C||(_(M.Toast.Style.Failure,"Conversation name cannot be empty"),P=!1),R||(_(M.Toast.Style.Failure,"Please wait until Bard has reconnected."),P=!1),p&&(_(M.Toast.Style.Failure,"Bard is still initialzing."),P=!1),P},ct=()=>{let{pop:C}=(0,Lt.useNavigation)();return ne("Create Conversation",({name:A})=>{if(!ge(A)){C();return}s(H=>{U(new ut.Chat);let Y=[...structuredClone(H),{name:A,questions:[]}];return l[A]=Y.length-1,n(A),Y}),_(M.Toast.Style.Success,`Sucessfully created converation "${A}"`),C()})},zt=()=>{let{pop:C}=(0,Lt.useNavigation)();return ne("Rename Conversation",({name:A})=>{if(!ge(A)){C();return}s(H=>{let Y=structuredClone(H);return Y[l[o]].name=A,l[A]=l[o],delete l[o],n(A),Y}),_(M.Toast.Style.Success,`Sucessfully renamed converation to "${A}"`),C()})},Wr=async C=>{await pa.Clipboard.copy(C),_(M.Toast.Style.Success,"Successfully copied response message.")},Qe=({response:C})=>_jsx(w.ActionPanel,null,_jsx(w.ActionPanel.Section,{title:"Google Bard"},_jsx(w.Action,{icon:w.Icon.Stars,title:"Get Answer",onAction:x}),_jsx(w.Action,{icon:w.Icon.CopyClipboard,title:"Copy Answer",shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:()=>Wr(C)})),_jsx(w.ActionPanel.Section,{title:"Manage Conversations"},_jsx(w.Action.Push,{icon:w.Icon.PlusCircle,title:"Create New Conversation",shortcut:{modifiers:["cmd"],key:"n"},target:_jsx(ct,null)}),_jsx(w.Action.Push,{icon:w.Icon.Pencil,title:"Rename Current Conversation",shortcut:{modifiers:["opt"],key:"r"},target:_jsx(zt,null)}),_jsx(w.Action,{icon:w.Icon.ArrowUp,title:"Previous Conversation",shortcut:{modifiers:["cmd","opt"],key:"arrowUp"},onAction:It}),_jsx(w.Action,{icon:w.Icon.ArrowDown,title:"Next Conversation",shortcut:{modifiers:["cmd","opt"],key:"arrowDown"},onAction:ft})),_jsx(w.ActionPanel.Section,{title:"Danger Zone"},_jsx(w.Action,{icon:w.Icon.RotateClockwise,title:"Reset Chat",shortcut:{modifiers:["opt","shift"],key:"delete"},onAction:me,style:w.Action.Style.Destructive}),_jsx(w.Action,{icon:w.Icon.Trash,title:"Delete Current Conversation",shortcut:{modifiers:["cmd","shift"],key:"delete"},onAction:z,style:w.Action.Style.Destructive}),_jsx(w.Action,{icon:w.Icon.XMarkCircle,title:"Purge Google Bard",onAction:Q,style:w.Action.Style.Destructive}))),qr=C=>{let P=new Date,A=new Date(C);return A.getDate()===P.getDate()&&A.getMonth()===P.getMonth()&&A.getFullYear()===P.getFullYear()?`${A.getHours().toString().padStart(2,"0")}:${A.getMinutes().toString().padStart(2,"0")}`:`${(A.getMonth()+1).toString().padStart(2,"0")}/${A.getDate().toString().padStart(2,"0")}/${A.getFullYear()}`},Mt=()=>f?_jsx(w.List.Dropdown,{tooltip:"Select conversation...",value:o,onChange:async C=>{n(C),_(M.Toast.Style.Success,`Set conversation to "${C}"`)}},a.map(({name:C},P)=>_jsx(w.List.Dropdown.Item,{key:C+P,title:C,value:C}))):null;return _jsx(w.List,{searchText:b,onSearchTextChange:v,navigationTitle:"Chat With AI",searchBarPlaceholder:"Ask Bard something...",isShowingDetail:R&&d().questions.length!==0,actions:_jsx(Qe,null),searchBarAccessory:_jsx(Mt,null)},R?f?q&&d().questions.length===0?_jsx(w.List.EmptyView,{icon:w.Icon.Clock,title:"Please wait."}):d().questions.length===0?_jsx(w.List.EmptyView,{icon:w.Icon.Stars,title:"Ask away. Bard is ready."}):d().questions.map(({question:C,response:P,metadata:A},H)=>_jsx(w.List.Item,{accessories:[{text:`${qr(A.date)}`}],key:C+H,title:C,actions:_jsx(Qe,{response:P}),detail:_jsx(w.List.Item.Detail,{markdown:`**${C}**

${P}`})})):_jsx(w.List.EmptyView,{icon:w.Icon.Stars,title:"Bard is loading..."}):_jsx(w.List.EmptyView,{icon:w.Icon.WifiDisabled,title:"Bard failed to connect"}))}
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
*/
